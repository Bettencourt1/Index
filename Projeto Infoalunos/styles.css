/* Project: InfoAlunos — styles.css
   Sections: Variables, Reset/Base, Layout, Components, Utilities, Pages, Responsive
   Keep comments short and in English. Technical names (Grid, Card, Hero) remain in English.
*/

/* =========================
   Variables (reduced palette & unified typography)
   ========================= */
:root{
  /* Palette (5 colors) */
  --cor-primaria: #0056a0;
  --cor-primaria-escuro: #004b83;
  --cor-secundaria: #6c757d;
  --cor-accent: #17a2b8;
  --cor-sucesso: #28a745;
  --cor-perigo: #dc3545;

  /* Neutrals / background / text */
  --bg-light: #ffffff;
  --bg-lighter: #f6f7f9;
  --bg-dark: #f8f9fa;
  --bg-sidebar-active: #e6f0ff;
  --text-dark: #212529;
  --text-muted: #6c757d;
  --border-color: #dee2e6;

  /* Warnings */
  --cor-aviso: #856404; /* text color for warnings */
  --cor-aviso-bg: #fff9e6; /* background for warning panels */
  --cor-aviso-border: #ffeeba; /* border color for warnings */
  --badge-warning-bg: #f6c485; /* badge background for warning */

  /* Spacing & shadows */
  --shadow-sm: 0 1px 3px rgba(0,0,0,0.06);
  --box-shadow-default: 0 0.125rem 0.25rem rgba(0,0,0,0.075);
  --transition-fast: all 0.15s ease-in-out;

  /* Typography: family & sizes */
  --font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  --font-size-sm: 0.85rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.5rem;
  --line-height-base: 1.6;

  /* Headings sizes */
  --font-size-h1: 2rem;
  --font-size-h2: 1.5rem;
  --font-size-h3: 1.25rem;
  --font-size-h4: 1rem;
  --font-size-h5: 0.95rem;
  --font-size-h6: 0.9rem;

  --font-weight-bold: 700;
  --font-weight-semibold: 600;
  --font-weight-medium: 500;
  --font-weight-normal: 400;

  --spacing-sm: 0.5rem;
  --spacing-md: 1rem;
  --spacing-lg: 1.5rem;
  --spacing-xl: 2.5rem;
  --spacing-2xl: 3.5rem;

  --submenu-width: 260px;
  --max-sidebar-width: 250px;

  /* Responsive topbar support */
  --topbar-height: 0;
  --content-max-width: 1100px;
}



/* =========================
   Reset / Base
   ========================= */
*,
*::before,
*::after { box-sizing: border-box; }

html, body {
  height: 100%;
  margin: 0;
  font-family: var(--font-family);
  font-size: var(--font-size-base);
  line-height: var(--line-height-base);
  color: var(--text-dark);
  background-color: var(--bg-lighter);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden; /* prevenir scroll horizontal global */
}

img { max-width: 100%; height: auto; display: block; }

h1,h2,h3,h4,h5,h6 {
  margin: 0 0 var(--spacing-md) 0;
  font-weight: var(--font-weight-bold);
  color: var(--text-dark);
}

h1 { font-size: var(--font-size-h1); }
h2 { font-size: var(--font-size-h2); }
h3 { font-size: var(--font-size-h3); }
h4 { font-size: var(--font-size-h4); }
h5 { font-size: var(--font-size-h5); }
h6 { font-size: var(--font-size-h6); }

p { margin: 0 0 var(--spacing-md); }

a {
  color: var(--cor-primaria);
  text-decoration: none;
  transition: var(--transition-fast);
}
a:hover { color: var(--cor-primaria-escuro); text-decoration: underline; }

/* =========================
   Layout: grid with sidebar + header
   ========================= */
.app-container {
  display: grid;
  grid-template-columns: var(--max-sidebar-width) minmax(0, 1fr);
  grid-template-rows: auto 1fr auto;
  min-height: 100vh;
}

/* Header */
.app-header {
  position: fixed;
  top: 0; left: 0; right: 0;
  height: 50px;
  background-color: var(--cor-primaria);
  color: var(--bg-light);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 var(--spacing-lg);
  z-index: 1000;
  box-shadow: 0 1px 3px rgba(0,0,0,0.2);
  padding-left: var(--max-sidebar-width); /* evita sobrepor a sidebar no desktop */
}

/* Sidebar */
.sidebar {
  width: var(--max-sidebar-width);
  background-color: var(--bg-light);
  border-right: 1px solid var(--border-color);
  display: flex;
  flex-direction: column;
  padding-top: 50px; /* reserve space for fixed header */
  grid-row: 1 / -1;
  align-self: stretch;
  min-height: 0;
  box-sizing: border-box;
  z-index: 900;
}

.sidebar-header {
  padding: var(--spacing-lg);
  text-align: center;
  font-size: var(--font-size-h4);
  font-weight: var(--font-weight-bold);
  color: var(--cor-primaria);
  border-bottom: 1px solid var(--border-color);
}
.sidebar-header h3 { margin: 0; }

/* =========================
   Sidebar navigation
   ========================= */
.sidebar-nav {
  flex-grow: 1;
  padding: var(--spacing-md) 0;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}
.sidebar-nav ul { list-style: none; padding: 0; margin: 0; }
.sidebar-nav li { position: relative; }

.sidebar-nav a,
.sidebar-nav button,
.sidebar-nav label.has-submenu {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm) var(--spacing-lg);
  color: var(--text-dark);
  transition: var(--transition-fast);
  font-size: 0.95rem;
  font-weight: var(--font-weight-medium);
  background: none;
  border: none;
  width: 100%;
  text-align: left;
  cursor: pointer;
}

/* Hover / active */
.sidebar-nav a:hover,
.sidebar-nav button:hover {
  background-color: var(--bg-lighter);
  color: var(--cor-primaria);
}
.sidebar-nav a.active,
.sidebar-nav button.active {
  background-color: var(--bg-sidebar-active);
  color: var(--cor-primaria);
  font-weight: var(--font-weight-semibold);
}

/* Submenu (CSS-only toggle via checkbox or fragment) */
.submenu-panel {
  display: none;
  position: static;
  width: 100%;
  padding: 0.5rem 1rem;
  background-color: var(--bg-lighter);
  border: 1px solid var(--border-color);
  border-radius: 0.25rem;
  box-sizing: border-box;
  max-height: 60vh;
  overflow-y: auto;
}
.submenu-panel:target { display: block; }
.submenu-toggle { position: absolute; left: -9999px; opacity: 0; width: 1px; height: 1px; overflow: hidden; }
.submenu-toggle:checked + label { background-color: var(--bg-sidebar-active); color: var(--cor-primaria); font-weight: var(--font-weight-semibold); }
.submenu-toggle:checked + label + .submenu-panel { display: block; }

/* Nav icon sizing */
.sidebar-nav .nav-icon,
.sidebar-nav svg,
.sidebar-nav img,
.sidebar-nav i {
  width: 20px !important;
  height: 20px !important;
  font-size: 20px !important;
  line-height: 1 !important;
  display: inline-block !important;
  object-fit: contain !important;
  flex-shrink: 0 !important;
  vertical-align: middle;
  margin-right: 0.5rem;
}

/* =========================
   Main Content / Cards / Grid
   ========================= */
.main-content {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--spacing-lg);
  padding: calc(50px + var(--spacing-md)) var(--spacing-lg);
  width: 100%;
  min-width: 0;
  align-self: stretch;
  box-sizing: border-box;
  margin: 0; /* controlado por responsive rules abaixo */
}

/* Cards */
.card {
  background-color: var(--bg-light);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: var(--spacing-md);
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  box-shadow: var(--shadow-sm);
}
.card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--spacing-md);
  padding-bottom: var(--spacing-sm);
}
.card-title { font-size: var(--font-size-h5); font-weight: var(--font-weight-semibold); color: var(--text-dark); margin: 0; }
.card-content { font-size: 0.95rem; color: var(--text-muted); }

/* Grid helpers */
.card-grid, .card-grid-bottom {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--spacing-lg);
  margin-top: var(--spacing-md);
}
.card-grid-bottom { flex-grow: 1; }

/* ==================== 05. UTILITIES ==================== */
/* Utilities: small reusable helpers; prefer utilities over repeated rules */
.text-center { text-align: center; }
.mt-0 { margin-top: 0; }
.mt-sm { margin-top: var(--spacing-sm); }
.mb-sm { margin-bottom: var(--spacing-sm); }

/* Color & text utilities */
.text-primary { color: var(--cor-primaria) !important; }
.text-muted { color: var(--text-muted) !important; }
.text-success { color: var(--cor-sucesso) !important; }
.text-danger { color: var(--cor-perigo) !important; }
.text-warning { color: var(--cor-aviso) !important; }
.bg-primary { background-color: var(--cor-primaria) !important; color: #fff !important; }
.bg-light { background-color: var(--bg-light) !important; }

/* Badges */
.badge { display: inline-flex; gap: 0.4rem; align-items: center; padding: 0.25rem 0.5rem; border-radius: 6px; background: var(--bg-lighter); border: 1px solid var(--border-color); font-size: var(--font-size-sm); }

/* Color utility replacements */
.btn.disabled,
button[disabled] { background: #ccc; color: #fff; cursor: not-allowed; opacity: 0.8; border: none; }



.alert-warning { background: var(--cor-aviso-bg); border: 1px solid var(--cor-aviso-border); border-radius: 4px; padding: 12px; color: var(--cor-aviso); display:flex; gap: 10px; align-items:flex-start; }





/* Button variants (reusable themes) */
.btn-light { background: var(--bg-lighter); color: var(--text-dark); border: 1px solid var(--border-color); }
.btn-outline { background: transparent; color: var(--text-dark); border: 1px solid var(--border-color); }

/* Tables */
.table-row-muted { background-color: var(--bg-light); }

/* Badge color variants (map to palette) */
.badge.primary { background: var(--cor-primaria); color: #fff; border: none; }
.badge.success { background: var(--cor-sucesso); color: #fff; border: none; }
.badge.warning { background: var(--badge-warning-bg); color: var(--text-dark); border: none; }
.badge.muted { background: var(--bg-light); color: var(--text-dark); border: 1px solid var(--border-color); }

/* Small helpers consolidated; badge utilities defined earlier. Duplicate removed. */

/* Botões */
.btn {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.45rem 0.8rem;
  border-radius: 6px;
  border: none;
  cursor: pointer;
  background: var(--cor-primaria);
  color: #fff;
  font-weight: 600;
  text-decoration: none;
}
.btn.secondary { background: var(--cor-secundaria); color: #fff; }

/* Tabelas */
.payment-table, table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.95rem;
}
.payment-table th, .payment-table td, th, td {
  padding: var(--spacing-sm);
  text-align: left;
  border-bottom: 1px solid var(--border-color);
}
.payment-table th { background-color: var(--bg-lighter); position: sticky; top: 0; }

/* Wrapper para tabelas largas (faz scroll horizontal) */
.table-responsive { width: 100%; overflow-x: auto; -webkit-overflow-scrolling: touch; }

/* Notices & lists */
.notices-card .card-content { max-height: 300px; overflow-y: auto; padding-right: var(--spacing-sm); flex-grow: 1; }
.notices-card ul { list-style: none; padding: 0; margin: 0; }
.notices-card li { margin-bottom: var(--spacing-sm); border-bottom: 1px dotted var(--border-color); padding-bottom: 5px; }
.notices-card li a { display: block; font-size: 0.9rem; color: var(--text-dark); }
.notices-card li a strong { color: var(--cor-perigo); }

/* Calendar */
.calendar-header {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  background: var(--bg-lighter);
  border-radius: 4px;
  overflow: hidden;
  font-weight: var(--font-weight-semibold);
  font-size: 0.85rem;
}
.calendar-header div { padding: 6px; text-align: center; border-right: 1px solid var(--border-color); }
.calendar-header div:last-child { border-right: none; }
.calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 6px; margin-top: var(--spacing-sm); }
.calendar-day { min-height: 90px; background: linear-gradient(135deg,var(--bg-lighter),var(--bg-light)); border-radius:4px; padding:6px; font-size:0.85rem; color:var(--text-muted); position:relative; }
.calendar-day span { position:absolute; bottom:6px; right:6px; font-size:0.8rem; opacity:0.8; }

/* Two-column helper */
.two-columns { display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-lg); }
.section-title { font-size: 0.9rem; font-weight: var(--font-weight-bold); margin-bottom: var(--spacing-sm); }
.subsection-title { font-size: 0.8rem; font-weight: var(--font-weight-semibold); margin: var(--spacing-md) 0 var(--spacing-sm); }

/* Error page */
.error-page { display:flex; flex-direction:column; align-items:center; justify-content:center; min-height:100vh; text-align:center; }
.error-page h1 { font-size: var(--font-size-h1); color: var(--cor-perigo); }

/* Tabs (CSS-only radios/labels) */
.req-tabs { display:flex; gap:0.5rem; border-bottom:1px solid var(--border-color); margin-bottom: var(--spacing-md); }
.req-tab { padding:0.5rem 1rem; background:none; border:1px solid var(--border-color); border-bottom:none; border-radius:4px 4px 0 0; cursor:pointer; }
.req-tab:hover { background: var(--bg-lighter); }
.req-tab-radio { position:absolute; left:-9999px; }
.req-panels { min-height:200px; }
.req-panel { display:none; }
/* show panel when radio checked */
#tab-lista:checked ~ .req-panels .req-panel-lista,
#tab-submeter:checked ~ .req-panels .req-panel-submeter { display:block; }

/* Active tab visual state */
#tab-lista:checked ~ .req-tabs label[for="tab-lista"],
#tab-submeter:checked ~ .req-tabs label[for="tab-submeter"] {
  background-color: var(--bg-light);
  color: var(--cor-primaria);
  border-bottom: 1px solid var(--bg-light);
  font-weight: var(--font-weight-semibold);
}

/* Inputs: valid / invalid states */
input:valid { border: 2px solid var(--cor-sucesso); }
input:invalid { border: 2px solid var(--cor-perigo); }

/* Accessibility / Focus (visible indicators for keyboard navigation) */
a:focus, button:focus, .sidebar-nav a:focus {
  outline: 3px solid rgba(0,86,160,0.15);
  outline-offset: 2px;
}

/* =========================
   RESPONSIVE (breakpoints & tweaks)
   ========================= */

/* <= 992px: topbar behavior (sidebar flows to top; topbar not fixed; content centered) */
@media (max-width: 992px) {
  :root { --topbar-height: 56px; } /* adjust if needed */

  .app-container {
    grid-template-columns: 1fr;
    justify-items: center;
    padding-left: 0;
    padding-right: 0;
  }

  /* Sidebar becomes topbar in flow */
  .sidebar {
    position: relative !important;
    width: 100% !important;
    padding-top: 0;
    border-right: none;
    border-bottom: 1px solid var(--border-color);
    display: block;
    z-index: 900;
  }

  /* Topbar nav: horizontal, scrollable if many items */
  .sidebar-nav {
    display: flex;
    gap: 0.25rem;
    flex-wrap: nowrap;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    padding: 0.25rem;
    justify-content: center;
    align-items: center;
    scroll-behavior: smooth;
  }
  .sidebar-nav ul { display: flex; gap: 0.25rem; padding: 0; margin: 0; align-items: center; }
  .sidebar-nav li { display: inline-flex; }

  /* stack icon+label for compactness in topbar (change to row if prefer) */
  .sidebar-nav a,
  .sidebar-nav button,
  .sidebar-nav label.has-submenu {
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 0.35rem 0.5rem;
    text-align: center;
    white-space: nowrap;
    min-width: 56px;
    flex: 0 0 auto;
  }

  .sidebar-nav .nav-icon,
  .sidebar-nav svg,
  .sidebar-nav img,
  .sidebar-nav i {
    width: 20px !important;
    height: 20px !important;
    font-size: 20px !important;
    margin-right: 0 !important;
    margin-bottom: 0.25rem !important;
    display: block !important;
  }

  /* Submenus open via checkbox-toggle: display:block pushes content down (no overlay) */
  .submenu-panel { display: none; position: static !important; }
  .submenu-toggle:checked + label + .submenu-panel { display: block; }
  .submenu-panel:target { display: block; }

  /* Main content centered and constrained width */
  .main-content {
    width: 100%;
    max-width: var(--content-max-width);
    margin: 0 auto;
    padding-left: var(--spacing-md);
    padding-right: var(--spacing-md);
    /* header fixo (50px) + topbar em fluxo (--topbar-height) */
    padding-top: calc(50px + var(--topbar-height) + var(--spacing-sm)) !important;
    box-sizing: border-box;
    min-width: 0;
    overflow: visible;
  }

  /* Ensure children don't force overflow */
  .main-content, .main-content > *, .card, .card * { min-width: 0; word-break: break-word; }

  /* Images/tables responsive */
  .main-content img, .card img, img.responsive, table { max-width: 100%; height: auto; display: block; }
  .table-responsive { width: 100%; overflow-x: auto; -webkit-overflow-scrolling: touch; }

  /* z-index: header above topbar */
  .app-header { z-index: 1000; }
  .sidebar { z-index: 900; }
}

/* <= 768px: legacy compact sidebar fixed at 170px (keeps older behaviour where used) */
@media (max-width: 768px) {
  .sidebar {
    width: 170px;
    position: fixed;
    top: 50px;
    left: 0;
    bottom: 60px;
    padding-top: 0;
    overflow-y: auto;
    z-index: 900;
  }
  .main-content { margin-left: 170px; padding: var(--spacing-md); margin-bottom: 60px; }
  .app-header { padding-left: 170px; }
  .header-profile-links { display: none; }
  .profile-info { display: none; }
  .logo-text { display: none; }
  .card-grid, .card-grid-bottom { grid-template-columns: 1fr; }
  .sidebar-nav a { padding: 10px 15px; justify-content:flex-start; }
  .arrow-icon-right { display: block; }
}

/* <= 480px: small device tweaks */
@media (max-width: 480px) {
  :root { --topbar-height: 56px; } /* manter consistência */
  .app-header { height: 48px; padding: 0.25rem 0.75rem; }
  .header-logo { font-size: 0.95rem; }
  .header-profile-links { display: none; }
  .sidebar { position: relative; width: 100%; padding-top: 0; border-bottom: 1px solid var(--border-color); }
  .sidebar-header h3 { font-size: 1rem; }
  .profile-pic { width: 35px; height: 35px; }
  .sidebar-nav a, .sidebar-nav label.has-submenu { font-size: 0.95rem; padding: 0.5rem 0.75rem; }
  .card-title { font-size: 0.95rem; }
  .card-content, table { font-size: 0.8rem; }
  th, td { padding: 0.45rem; }
  .header-left { flex-direction: column; align-items:flex-start; gap:0.5rem; }

  /* main-content horizontal padding for small screens */
  .main-content { padding-left: 0.75rem; padding-right: 0.75rem; padding-top: calc(50px + var(--topbar-height) + 0.25rem) !important; }
  .sidebar-nav a, .sidebar-nav button, .sidebar-nav label.has-submenu { padding: 0.3rem 0.45rem; min-width: 48px; }
}
/* =========================
   Footer / small utilities
   ========================= */
.header-profile-links a { color: var(--bg-light); position: relative; transition: color 0.3s ease; }
.header-profile-links a::after {
  content: "";
  position: absolute;
  bottom: -3px; left: 0;
  width: 0%; height: 2px;
  background: var(--bg-light);
  transition: width 0.3s ease;
}
.header-profile-links a:hover { color: var(--cor-accent); }
.header-profile-links a:hover::after { width: 100%; }

.site-footer {
  grid-column: 1 / -1;
  background-color: var(--cor-primaria);
  color: var(--bg-light);
  text-align: center;
  font-size: 0.75rem;
  padding: 0.4rem 0.5rem;
  border-top: 1px solid var(--border-color);
  margin-top: auto;
}
.site-footer a { color: var(--bg-light); text-decoration: underline; }
.footer-meta { font-style: italic; opacity: 0.8; }

/* Small helpers for responsive icons when stacked */
.sidebar-nav .nav-icon-stack {
  margin-right: 0 !important;
  margin-bottom: 0.25rem !important;
}

/* Safety: prevent horizontal overflow */
html, body { overflow-x: hidden; }

/* ===== Patch: avoid right cut-off (reapply overflow safety) ===== */

/* Force grid/flex children to be able to shrink */
.app-container,
.main-content,
.card,
.card *,
.sidebar,
.sidebar * {
  min-width: 0 !important;
  box-sizing: border-box;
}

/* Main content: limit width & center to avoid forced overflow */
.main-content {
  width: 100%;
  max-width: var(--content-max-width, 1100px);
  margin-left: auto;
  margin-right: auto;
  padding-left: var(--spacing-md);
  padding-right: var(--spacing-md);
  box-sizing: border-box;
  overflow-wrap: anywhere;
  -webkit-font-smoothing: antialiased;
}

/* Prevent fixed-width elements from forcing page width */
.main-content > * {
  min-width: 0;
}

/* Wide tables/images: internal scroll, don't force page layout */
.table-responsive { width: 100%; overflow-x: auto; -webkit-overflow-scrolling: touch; }
.table-responsive table,
.main-content table { max-width: 100%; width: 100%; }

/* At breakpoints where sidebar becomes topbar, ensure container doesn't hide content */
@media (max-width: 992px) {
  /* allow internal scroll; avoid unnecessary horizontal scroll */
  html, body { overflow-x: hidden; }

  /* If an element still forces width, allow internal scroll on main */
  .main-content { overflow-x: auto; -webkit-overflow-scrolling: touch; }

  /* extra safety for elements using transform/scale */
  .main-content, .main-content * { max-width: 100%; }
}

/* If a specific component still forces width, consider localized overflow rules:
   exemplo: .meu-componente { overflow-x: auto; } */
/* ===== Topbar: allow wrap & avoid overlap (mobile) ===== */
@media (max-width: 992px) {
  /* Make sidebar behave as topbar in flow; ensure space under fixed header */
  .sidebar {
    position: relative !important;
    width: 100% !important;
    padding-top: 50px; /* reserve space for fixed header */
    border-bottom: 1px solid var(--border-color);
  }

  /* Topbar: allow multiple lines (wrap) instead of horizontal scroll */
  .sidebar-nav {
    display: flex;
    flex-wrap: wrap;           /* <-- permite ir para baixo */
    gap: 0.25rem 0.5rem;       /* linha e coluna gap */
    align-items: center;
    justify-content: flex-start; /* or center if preferred */
    padding: 0.25rem var(--spacing-sm);
    overflow-x: visible;       /* não forçar scroll horizontal */
  }

  /* Inner list also allows wrap */
  .sidebar-nav ul {
    display: flex;
    flex-wrap: wrap;
    gap: 0.25rem 0.5rem;
    padding: 0;
    margin: 0;
    align-items: center;
  }

  /* Each item in a row (icon left, text right); can break to next line */
  .sidebar-nav li { display: inline-flex; }
  .sidebar-nav a,
  .sidebar-nav button,
  .sidebar-nav label.has-submenu {
    display: inline-flex;
    flex-direction: row;       /* icon left of text; change to column to stack */
    align-items: center;
    gap: 0.5rem;
    padding: 0.35rem 0.5rem;
    white-space: nowrap;       /* prevent line-break inside label; wrap between items */
    flex: 0 1 auto;            /* items shrink if needed and wrap to next line */
    min-width: 0;
  }

  /* Align icons left of text (small tweak) */
  .sidebar-nav .nav-icon,
  .sidebar-nav svg,
  .sidebar-nav img,
  .sidebar-nav i {
    margin-right: 0.5rem !important;
    margin-bottom: 0 !important;
    width: 20px !important;
    height: 20px !important;
    display: inline-block !important;
  }

  /* Ensure submenus (checkbox-opened) push content down */
  .submenu-toggle:checked + label + .submenu-panel,
  .submenu-panel:target {
    display: block;
  }

  /* Main content offset below header & topbar; topbar in flow pushes main; keep small safety padding. */
  .main-content {
    width: 100%;
    max-width: var(--content-max-width);
    margin: 0 auto;
    padding-left: var(--spacing-md);
    padding-right: var(--spacing-md);
    padding-top: calc(50px + var(--spacing-sm)) !important; /* reserve space for fixed header */
    box-sizing: border-box;
  }
}
/* =========================
   Header: show top 3 priority links on mobile (centered)
   - Prefer marking important anchors with class="priority"
   - Fallback: show last 3 children
   ========================= */

@media (max-width: 768px) {
  /* Center container & constrain width to avoid forced overflow */
  .header-profile-links {
    display: flex;
    justify-content: center;    /* center items */
    align-items: center;
    gap: 0.5rem;
    padding: 0 0.75rem;         /* side padding to avoid touching edges */
    box-sizing: border-box;
    flex-wrap: wrap;            /* allow wrapping to next line if necessary */
    max-width: 100%;
    margin: 0 auto;
    /* opcional: limita a largura interna para melhorar leitura */
    width: min(100%, 980px);
  }

  /* Hide children by default (links/buttons/spans) */
  .header-profile-links > * {
    display: none !important;
  }

  /* 1) Preferred: show elements marked .priority (robust) */
  .header-profile-links > .priority {
    display: inline-flex !important;
    align-items: center;
    justify-content: center;
    gap: 0.4rem;
    padding: 0.25rem 0.5rem;
    box-sizing: border-box;
    white-space: nowrap;
    flex: 0 1 auto; /* can shrink if needed, without forcing overflow */
    min-width: 0;
    font-size: clamp(0.85rem, 1.6vw, 1rem); /* responsive font to avoid truncation */
  }

  /* 2) Fallback: if not using .priority, show last 3 elements (adjust as needed) */
  .header-profile-links > :nth-last-child(-n+3) {
    display: inline-flex !important;
    align-items: center;
    justify-content: center;
    gap: 0.4rem;
    padding: 0.25rem 0.5rem;
    box-sizing: border-box;
    white-space: nowrap;
    flex: 0 1 auto;
    min-width: 0;
    font-size: clamp(0.85rem, 1.6vw, 1rem);
  }

  /* Prevent right-most button from being cut: allow wrap & center lines */
  .header-profile-links {
    align-content: center; /* center lines when wrapping */
    justify-content: center;
  }

  /* Small-screen adjustments */
  @media (max-width: 420px) {
    .header-profile-links > .priority,
    .header-profile-links > :nth-last-child(-n+3) {
      padding: 0.2rem 0.35rem;
      font-size: clamp(0.78rem, 2.2vw, 0.92rem);
      gap: 0.3rem;
    }
    .header-profile-links { padding: 0 0.5rem; gap: 0.35rem; }
  }
}

/* Safety: on desktop/large screens show everything normally */
@media (min-width: 769px) {
  .header-profile-links > * { display: inline-flex !important; }
  .header-profile-links { flex-wrap: nowrap; padding: 0; justify-content: flex-end; } /* manter original */
}
/* Responsive tweak: shrink text & spacing to avoid single-button overflow */
@media (max-width: 768px) {
  .header-profile-links {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 0.4rem;
    padding: 0 0.5rem;
    box-sizing: border-box;
    flex-wrap: nowrap; /* preferimos encolher texto antes de quebrar linhas */
    width: 100%;
  }

  /* Ensure children can shrink without forcing overflow */
  .header-profile-links > * {
    display: inline-flex !important;
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    min-width: 0;           /* permite encolher */
    flex: 0 1 auto;         /* podem encolher, mas não esticam demasiado */
    padding: 0.18rem 0.45rem;
    white-space: nowrap;
    /* responsive font: scales with viewport while staying legible */
    font-size: clamp(0.78rem, 1.6vw, 1rem);
  }

  /* prioridade: aplica o mesmo comportamento aos marcados com .priority */
  .header-profile-links > .priority {
    font-size: clamp(0.78rem, 1.6vw, 1rem);
    padding: 0.18rem 0.45rem;
  }

  /* Narrow-screen tweaks: reduce font & padding */
  @media (max-width: 520px) {
    .header-profile-links > *,
    .header-profile-links > .priority {
      font-size: clamp(0.72rem, 2.0vw, 0.92rem);
      padding: 0.14rem 0.35rem;
    }
  }

  @media (max-width: 420px) {
    .header-profile-links > *,
    .header-profile-links > .priority {
      font-size: clamp(0.68rem, 2.4vw, 0.88rem);
      padding: 0.12rem 0.3rem;
      gap: 0.3rem;
    }
  }

  /* Last resort: allow wrap but keep text small */
  @media (max-width: 340px) {
    .header-profile-links { flex-wrap: wrap; gap: 0.25rem; }
    .header-profile-links > *,
    .header-profile-links > .priority {
      font-size: 0.78rem;
      padding: 0.1rem 0.28rem;
    }
  }
}

/* Keep desktop behavior unchanged */
@media (min-width: 769px) {
  .header-profile-links { flex-wrap: nowrap; padding: 0; }
  .header-profile-links > * { display: inline-flex !important; font-size: 1rem; padding: 0 0.5rem; }
}

/* ===== Tabs: patch para creditacoes-novo (radio-driven tabs, CSS-only) =====
   - Show the correct panel when the corresponding radio is checked
   - Aplica estilo "activo" à label correspondente
   - Keep accessibility using role="tabpanel"/aria-controls when possible
*/

/* escondemos os radios visualmente mas mantemos acesso via label */
.req-tab-radio {
  position: absolute;
  left: -9999px;
  width: 1px;
  height: 1px;
  overflow: hidden;
}

/* Panels hidden by default */
.req-panel {
  display: none;
}

/* Show the corresponding panel when radio is checked
   we use ~ (sibling) because radios appear before .card in the DOM */
#tab-novo:checked ~ .card #content-novo,
#tab-plano:checked ~ .card #content-plano,
#tab-doc:checked ~ .card #content-doc {
  display: block !important;
}

/* Estilo visual do tab activo (a label correspondente) */
#tab-novo:checked ~ .req-tabs label[for="tab-novo"],
#tab-plano:checked ~ .req-tabs label[for="tab-plano"],
#tab-doc:checked  ~ .req-tabs label[for="tab-doc"] {
  background-color: var(--bg-light);
  color: var(--cor-primaria);
  border-bottom: 1px solid var(--bg-light);
  font-weight: var(--font-weight-semibold);
}

/* Minor tweak: labels behave like tab buttons */
.req-tabs label.req-tab {
  cursor: pointer;
  user-select: none;
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  padding: 0.45rem 0.9rem;
  border: 1px solid transparent;
  border-radius: 4px 4px 0 0;
  transition: var(--transition-fast);
}

/* Hover das labels (melhora UX) */
.req-tabs label.req-tab:hover {
  background: var(--bg-lighter);
}

/* Safety: if conflicting rules exist, increase specificity */
.card #content-novo,
.card #content-plano,
.card #content-doc { box-sizing: border-box; }

/* If you have a global rule hiding .req-panel with !important, remove it
   or leave these selectors with !important (already applied above for display:block). */
/* ===== Quick links (botões apenas na index) =====
   - Garante alinhamento à direita, wrap em telas pequenas
   - Protege cor de texto no hover para evitar "desaparecer"
*/
.quick-links {
  display: flex;
  justify-content: flex-end;
  gap: 0.5rem;
  margin-bottom: 0.6rem;
  flex-wrap: wrap;              /* evita corte em telas pequenas */
  align-items: center;
  width: 100%;
  box-sizing: border-box;
}

/* Use existing .btn; adjust for contrast & predictable hover */
.quick-links .btn {
  padding: 0.35rem 0.6rem;
  font-size: 0.9rem;
  background: var(--cor-primaria);
  color: #fff !important;       /* force contrast & avoid external rules hiding it */
  border-radius: 6px;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  border: none;
}

/* Hover / focus: keep text visible and darken background slightly */
.quick-links .btn:hover,
.quick-links .btn:focus {
  background: var(--cor-primaria-escuro);
  color: #fff !important;
  text-decoration: none;
  outline: 2px solid rgba(0,86,160,0.12);
  outline-offset: 2px;
}

/* Em telas muito pequenas *reduzimos* o texto e padding para evitar wrap agressivo */
@media (max-width: 420px) {
  .quick-links .btn {
    padding: 0.22rem 0.4rem;
    font-size: 0.78rem;
  }
}
/* Show active panel */
#tab-objetivos:checked ~ .req-panels #content-objetivos,
#tab-biblio:checked ~ .req-panels #content-biblio,
#tab-programa:checked ~ .req-panels #content-programa,
#tab-outros:checked ~ .req-panels #content-outros,
#tab-docente:checked ~ .req-panels #content-docente,
#tab-documentos:checked ~ .req-panels #content-documentos {
  display: block;
}

/* Estilo visual do tab ativo */
#tab-objetivos:checked ~ .req-tabs label[for="tab-objetivos"],
#tab-biblio:checked ~ .req-tabs label[for="tab-biblio"],
#tab-programa:checked ~ .req-tabs label[for="tab-programa"],
#tab-outros:checked ~ .req-tabs label[for="tab-outros"],
#tab-docente:checked ~ .req-tabs label[for="tab-docente"],
#tab-documentos:checked ~ .req-tabs label[for="tab-documentos"] {
  background-color: var(--bg-light);
  color: var(--cor-primaria);
  border-bottom: 1px solid var(--bg-light);
  font-weight: var(--font-weight-semibold);
}
/* Show corresponding panel */
#tab-docentes:checked ~ .req-panels #painel-docentes,
#tab-aluno:checked    ~ .req-panels #painel-aluno {
  display: block;
}

/* Estilo do tab ativo */
#tab-docentes:checked ~ .req-tabs label[for="tab-docentes"],
#tab-aluno:checked    ~ .req-tabs label[for="tab-aluno"] {
  background-color: var(--bg-light);
  color: var(--cor-primaria);
  border-bottom: 1px solid var(--bg-light);
  font-weight: var(--font-weight-semibold);
}
/* Componentes gerais consolidados acima — duplicate block removed. */

/* ==================== 06. PAGES (page-specific rules) ==================== */
/* Example: Login — page-specific rules. If many rules are needed for a page, consider a separate CSS or prefix. */

/* Login */
.login-body {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  background-color: var(--bg-lighter);
  padding: var(--spacing-md);
}

.login-container {
  max-width: 400px;
  width: 100%;
  padding: var(--spacing-xl) 3rem;
  border-top: 5px solid var(--cor-primaria);
  box-shadow: 0 10px 25px rgba(0,0,0,0.15);
}

.login-container h3 {
  text-align: center;
  margin-bottom: var(--spacing-2xl);
  color: var(--cor-primaria);
}

.login-links {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: var(--spacing-md);
  font-size: 0.9rem;
}

.login-links label {
  display: flex;
  align-items: center;
  cursor: pointer;
}

.login-links input[type="checkbox"] {
  width: auto;
  margin-right: 0.5rem;
  margin-top: 0;
}

.login-btn-container {
  margin-top: var(--spacing-2xl);
}

.login-container p {
  text-align: center;
  margin-top: var(--spacing-xl);
} 

/* ==================== 07. RESPONSIVE (breakpoints & tweaks) ==================== */
@media (max-width: 480px) {
  .login-container {
    padding: var(--spacing-lg);
    box-shadow: none;
  }
}
/* 1. Remove any default browser invalid outline */
input:invalid {
    box-shadow: none !important;
    border-color: var(--border-color);
}

/* 2. Style during user input (no error/success colors) */
input:focus {
    outline: none;
    border-color: var(--cor-primaria) !important;
    box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
}

/* 3. Success/Error styles: use valid pseudo-classes */
input:valid { border: 2px solid var(--cor-sucesso) !important; }
input:invalid { border: 2px solid var(--cor-perigo) !important; }

/* 5. Ensure login button appears disabled if form is invalid (optional) */
form:invalid button { opacity: 0.7; cursor: not-allowed; }
